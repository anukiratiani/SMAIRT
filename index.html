<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMAIRT - Smart Mathematics AI</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">SMAIRT: Smart Mathematics AI for Reasoning and Text</div>
        <div class="tabs">
            <button class="tab active" onclick="openTab('problem-input')">Problem Input</button>
            <button class="tab" onclick="openTab('history')">History</button>
            <button class="tab" onclick="openTab('help')">Help</button>
        </div>
        <div class="tab-content" id="problem-input">
            <div class="symbol-table">
                <button class="symbol-btn" onclick="insertSymbol('∫')">∫</button>
                <button class="symbol-btn" onclick="insertSymbol('^2')">^2</button>
                <button class="symbol-btn" onclick="insertSymbol('^')">^</button>
                <button class="symbol-btn" onclick="insertSymbol('√')">√</button>
                <button class="symbol-btn" onclick="insertSymbol('π')">π</button>
                <button class="symbol-btn" onclick="insertSymbol('log')">log</button>
                <button class="symbol-btn" onclick="insertSymbol('ln')">ln</button>
                <button class="symbol-btn" onclick="insertSymbol('lg')">lg</button>
                <button class="symbol-btn" onclick="insertSymbol('dx')">dx</button>
            </div>
            <div class="terminal">
                <div class="output" id="output"></div>
                <div class="input-line">
                    <span class="prompt">> </span>
                    <textarea id="commandInput" placeholder="Enter a query (e.g., 'derivative of x^2', 'solve 2x + 4 = 10')" autofocus></textarea>
                    <button class="submit-btn" id="submitBtn">Submit</button>
                </div>
                <div class="stats-toggle" onclick="toggleStats()">▼ Statistical Tools</div>
                <div class="stats-buttons" id="statsButtons" style="display: none;">
                    <button class="stat-btn" onclick="calculateStat('average')">Average</button>
                    <button class="stat-btn" onclick="calculateStat('mode')">Mode</button>
                    <button class="stat-btn" onclick="calculateStat('median')">Median</button>
                    <button class="stat-btn" onclick="calculateStat('range')">Range</button>
                    <!-- New Stat Buttons - will be handled by submitQuery for now -->
                    <!-- <button class="stat-btn" onclick="calculateStat('stddev')">Std.Dev</button>
                    <button class="stat-btn" onclick="calculateStat('variance')">Variance</button>
                    <button class="stat-btn" onclick="calculateStat('combinations')">Combinations</button>
                    <button class="stat-btn" onclick="calculateStat('permutations')">Permutations</button> -->
                </div>
            </div>
        </div>
        <div class="tab-content" id="history" style="display: none;">
            <div class="history" id="history-output"></div>
        </div>
        <div class="tab-content" id="help" style="display: none;">
            <div class="help-content">
                <h2>Welcome to SMAIRT</h2>
                <p>SMAIRT solves advanced mathematical and statistical queries interactively.</p>
                <h3>How to Use</h3>
                <ul>
                    <li>Enter queries in the <strong>Problem Input</strong> tab (e.g., 'average of 4 and 6'), use symbols, then press <strong>Enter</strong> or click <strong>Submit</strong>.</li>
                    <li>Click the ▼ arrow to access basic statistical buttons (Average, Mode, Median, Range).</li>
                    <li>Click symbols (∫, ^2, √, π, log, ln, lg, dx) to insert them.</li>
                    <li>View past queries in the <strong>History</strong> tab.</li>
                    <li>Use Shift+Enter for new lines.</li>
                </ul>
                <h3>Examples of New Capabilities:</h3>
                <ul>
                    <li><strong>Basic Math:</strong> "5 + 3", "10 / 2"</li>
                    <li><strong>Descriptive:</strong> "biggest two digit number", "largest of 1, 5, 20"</li>
                    <li><strong>Derivatives:</strong>
                        <ul>
                            <li>"d/dx x^3"</li>
                            <li>"derivative of sin(x)"</li>
                            <li>"d/dx e^x"</li>
                            <li>"derivative of ln(x)"</li>
                        </ul>
                    </li>
                    <li><strong>Linear Equations:</strong> "solve 2x + 4 = 10", "solve 3x - 5 = 1", "solve x = 7"</li>
                    <li><strong>Quadratic Equations:</strong> (Format: $ax^2 + bx + c = 0$)
                        <ul>
                            <li>"solve x^2 - 4x + 4 = 0"</li>
                            <li>"solve x^2 + 9 = 0"</li>
                            <li>"solve 2x^2 + 3x = 0"</li>
                            <li>"solve x^2 - 1 = 0"</li>
                        </ul>
                    </li>
                    <li><strong>Advanced Statistics:</strong>
                        <ul>
                            <li>"standard deviation of 10, 12, 14, 16"</li>
                            <li>"variance of 5, 8, 10"</li>
                            <li>"combinations of 5 choose 2"</li>
                            <li>"permutations of 7 choose 3"</li>
                        </ul>
                    </li>
                    <li><strong>Function Evaluation:</strong> "evaluate x^2 + 3x for x = 5"</li>
                    <li><strong>Integrals:</strong>
                        <ul>
                            <li>"∫x^2 dx"</li>
                            <li>"∫sin(x)cos(x) dx"</li>
                            <li>"∫1/x dx"</li>
                            <li>"∫e^x dx"</li>
                            <li>"∫sin(x) dx"</li>
                            <li>"∫dx"</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
